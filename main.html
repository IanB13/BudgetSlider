<!DOCTYPE html>
<html>
    <style>
        body{
            background-color: grey;

        }
        h1{
            color: black;

        }
    
    </style>

    <h1>
        Budget Calculator
    </h1>

    <p>
        This is a test, do not use the results without further verification
    </p>
    <br/>

    <!--Budget should be slightly different stylistically-->
    <h2>
        Budget is:&#160$
        <input type ="text", id="Budget", value="5000"> <br/>
    </h2>

 <div>
    <p>
        Broken Arm:&#160 	
        <input type ="text", id="BrokenArm" > 
        <input type="range" min="0" max="100" value="50" class="slider" id="BrokenArmRange" > <br/>
    </p>

  

    <p>
        Broken Leg:&#160 
        <input type ="text", id="BrokenLeg">
        <input type="range" min="0" max="100" value="50" class="slider" id="BrokenLegRange"> <br/>
    </p>
     

     <p>
        Broken Head:&#160 
        <input type ="text", id="BrokenHead:">
        <input type="range" min="0" max="100" value="50" class="slider" id="BrokenHeadRange"> <br/>
    </p>
   

     <p>
        Mystery Object in Abdomen:&#160 
        <input type ="text", id="BrokenButt:">
        <input type="range" min="0" max="100" value="50" class="slider" id="BrokenButtRange" > <br/>
    </p>
    <br/>



    <button onclick="BudgetCalc()">Run</button>
    
    
</div>

<script>
// sets global variables for broken stuff
 BrokenArmcost = 15;
 BrokenLegcost = 20;
 

//sets slider ranges to appropriate values
   // document.getElementById("Budget").oninput = function MaxRanges(){
         function MaxRanges(){
        var Budget = document.getElementById("Budget").value;
        document.getElementById("BrokenArmRange").max = (Budget/BrokenArmcost);
        document.getElementById("BrokenLegRange").max = (Budget/BrokenLegcost);

        }
    //runs maxrange on input
    document.getElementById("Budget").oninput = function MaxRanges1(){
            MaxRanges()
        }
    //runs maxrange on load
    window.onload = function MaxRanges2(){
            MaxRanges();
        }

        // operates broken arm slider
        document.getElementById("BrokenArmRange").oninput = function hi() {
            var Budget = document.getElementById("Budget").value;


            document.getElementById("BrokenArm").value = document.getElementById("BrokenArmRange").value;


            document.getElementById("BrokenLeg").value = (Budget - (BrokenArmcost * document.getElementById("BrokenArm").value)) / BrokenLegcost;
            document.getElementById("BrokenLegRange").value = document.getElementById("BrokenLeg").value;


            //document.getElementById("BrokenLeg").value = document.getElementById("BrokenLegRange").value;
            // document.getElementById("BrokenLegRange").max = (Budget/BrokenLegCost);
        }

        //WORKING ON NOW = MOST IMPORTANT FUNCTION
        function SliderOps(SlidingElement,SlidingElementRange){
            //sets budget
            var Budget = document.getElementById("Budget").value;
            
            SlidingElement.value = SlidingElementRange.value;
            
            var sliderlist = document.getElementsByClassName("slider");
            var i = sliderlist.length;
            

            var aslider =sliderlist[0].value;
                while(i > 0){
                    if(sliderlist[i-1].id != SlidingElementRange.id ){
                        
                        
                      //  console.log(sliderlist[i-1].id);
                       // console.log(SlidingElementRange.id)
                    }
                  
                    i--;
                }

            document.getElementById("testoutput").innerHTML = sliderlist.length;
            


        }
        document.getElementById("BrokenLegRange").oninput = function foo(){
            
            x= document.getElementById("BrokenLeg");
            y = document.getElementById("BrokenLegRange");
            SliderOps(x,y);


        }






//gets budget number from budget input box and outputs it as an windows alert  (test code)
function BudgetCalc(){
        var Budget = document.getElementById("Budget").value;

        x= document.getElementById("BrokenLeg");
            y = document.getElementById("BrokenLegRange");
            SliderOps(x,y);

         window.alert(Budget);
        }

</script>
<p id="testoutput"></p>



</html>